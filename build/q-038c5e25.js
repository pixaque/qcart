var T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p={exports:{}};(function(y,P){(function(v,g){y.exports=g()})(T,function(){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&a(i.prototype,e),t&&a(i,t),i}}();function x(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(i){x(this,a),this.afterFormat=function(){},this.allowNegative=!1,this.beforeFormat=function(){},this.negativeSignAfter=!1,this.decimalSeparator=",",this.fixed=!0,this.fractionDigits=2,this.prefix="$",this.suffix="",this.thousandsSeparator=".",this.cursor="move",this.merge(i)}return g(a,[{key:"merge",value:function(e){!e||(typeof e>"u"?"undefined":v(e))!=="object"||(this.fractionDigits=typeof e.fractionDigits>"u"||isNaN(e.fractionDigits)?this.fractionDigits:parseInt(e.fractionDigits),this.afterFormat=typeof e.afterFormat=="function"?e.afterFormat:this.afterFormat,this.beforeFormat=typeof e.beforeFormat=="function"?e.beforeFormat:this.beforeFormat,this.fixed=typeof e.fixed=="boolean"?e.fixed:this.fixed,this.allowNegative=typeof e.allowNegative=="boolean"?e.allowNegative:this.allowNegative,this.negativeSignAfter=typeof e.negativeSignAfter=="boolean"?e.negativeSignAfter:this.negativeSignAfter,this.decimalSeparator=typeof e.decimalSeparator>"u"?this.decimalSeparator:e.decimalSeparator,this.prefix=typeof e.prefix>"u"?this.prefix:e.prefix,this.suffix=typeof e.suffix>"u"?this.suffix:e.suffix,this.thousandsSeparator=typeof e.thousandsSeparator>"u"?this.thousandsSeparator:e.thousandsSeparator,this.cursor=typeof e.cursor>"u"?this.cursor:e.cursor)}}]),a}(),S=function(){function a(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&a(i.prototype,e),t&&a(i,t),i}}();function b(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var c=function(){function a(i){b(this,a),this.args=new d(i)}return S(a,[{key:"addCompleter",value:function(e,t,r){for(var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e.length<r;)e=n?""+t+e:""+e+t;return e}},{key:"addPrefix",value:function(e){return""+this.args.prefix+e}},{key:"addSeparators",value:function(e){for(var t=e.length-this.args.fractionDigits,r=this.args.fixed?"d":"w",n="\\,?||\\.?(\\"+r+")",o=Math.ceil(t/3),s=this.args.decimalSeparator+"$"+(o+1),f=o;f!==0;f--)t>=3?(n="(\\"+r+"{3})"+n,t-=3):n="(\\"+r+"{"+t+"})"+n,f>1?s=this.args.thousandsSeparator+"$"+f+s:s="$"+f+s;return e.replace(new RegExp(n),s)}},{key:"addSuffix",value:function(e){return""+e+this.args.suffix}},{key:"adjustDotPosition",value:function(e){var t=void 0,r=e.toString();return r=r.replace(".",""),t=r.length-this.args.fractionDigits,r=r.substring(0,t)+"."+r.substring(t),r}},{key:"completer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.args.fixed?"".padEnd(e,"0"):"".padEnd(e,"_")}},{key:"checkNumberStart",value:function(e,t){var r=e.toString();return r[0]===t?(this.args.fixed?"0":"_")+r:r}},{key:"checkSuffix",value:function(e){var t=void 0,r=e.length-1,n=r-1,o=e.substring(r-this.args.suffix.length+1,r+this.args.suffix.length),s=e.substring(n-this.args.suffix.length+1,n+this.args.suffix.length);switch(this.args.suffix){case o:t=e;break;case s:var f=e.substring(0,n);t=""+f+e.substring(e.length+this.args.suffix.length+1,n+this.args.suffix.length)+".";break;default:t=e.substring(0,r)+".";break}return t}},{key:"emptyOrInvalid",value:function(){return""+this.completer()+this.args.decimalSeparator+this.completer(this.args.fractionDigits)}},{key:"isFloat",value:function(e){return e%1!==0}},{key:"mask",value:function(e){var t=this.args.allowNegative&&e.indexOf("-")!==-1,r=""+(this.writingToNumber(e)||this.emptyOrInvalid());r=this.replaceSeparator(r,this.args.decimalSeparator,".");var n=this.completer();return isNaN(this.removeCompleter(r,n))||(r=this.replaceSeparator(r,"."),r=this.addCompleter(r||"",n,this.args.fractionDigits),r=this.args.fractionDigits>=r.length?""+n+r:r,r=this.addSeparators(r)),this.args.prefix&&(r=this.addPrefix(r)),this.args.suffix&&(r=this.addSuffix(r)),(!this.args.negativeSignAfter&&t?"-":"")+r+(this.args.negativeSignAfter&&t?"-":"")}},{key:"numberToText",value:function(e){var t=this.completer(),r=this.emptyOrInvalid();if(e=this.replaceSeparator(e.toString(),this.args.decimalSeparator,"."),!isNaN(e)){if(this.isFloat(e)){var n=e.split("."),o=n[0],s=n[1];s=this.addCompleter(s||"",t,this.args.fractionDigits,!1),r=""+o+s}else r=this.removeCompleter(e,t),r=this.addCompleter(typeof r=="string"?r:"",t,this.args.fractionDigits+r.length,!1);r=this.addSeparators(r),r=this.checkNumberStart(r,this.args.decimalSeparator)}return this.args.prefix&&(r=this.addPrefix(r)),this.args.suffix&&(r=this.addSuffix(r)),r}},{key:"onlyNumber",value:function(e){for(var t=e.toString().indexOf(this.args.decimalSeparator),r=!1,n="",o=e.length-1;o>=0;o--)isFinite(e[o])||!this.args.fixed&&e[o]==="_"?n=e[o]+n:t!==-1&&!r&&e[o]===this.args.decimalSeparator&&(n=e[o].replace(this.args.decimalSeparator,".")+n,r=!0);return n[0]==="."?"0"+n:n}},{key:"removeCompleter",value:function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=function(){return r?0:e.length-1},o=n();e[o]===t;)e=e.substring(0,o-1)+e.substring(o+1,e.length),o=n();return e}},{key:"removePrefix",value:function(e){var t=e.indexOf(this.args.prefix,0);return t!==-1&&(e=e.substring(this.args.prefix.length,e.length)),e}},{key:"removeSuffix",value:function(e){var t=e.indexOf(this.args.suffix,e.length-this.args.suffix.length);if(t!==-1){var r=e.substring(0,t);e=r+e.substring(r.length+this.args.suffix.length-1,e.length-1)}return e}},{key:"replaceSeparator",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e.replace(new RegExp("\\"+t,"g"),r)}},{key:"textToNumber",value:function(e){var t=e.toString(),r=this.completer();return this.args.prefix&&(t=this.removePrefix(t)),this.args.suffix&&(t=this.removeSuffix(t)),t=this.onlyNumber(t),t&&(t=this.removeCompleter(t,r),t=this.checkNumberStart(t,".")),t||(this.args.fixed?"0":"")}},{key:"writingToNumber",value:function(e){var t=e.toString(),r=this.completer();return this.args.prefix&&(t=this.removePrefix(t)),this.args.suffix&&(t=this.checkSuffix(t),t=this.removeSuffix(t)),t=this.onlyNumber(t),t&&(t=this.adjustDotPosition(t),t=this.removeCompleter(t,r),t=this.checkNumberStart(t,".")),t||(this.args.fixed?"0":"")}}]),a}(),m={getCaretPosition:function(i){var e=-1;if("selectionStart"in i)e=i.selectionStart;else if(document.selection){i.focus();var t=document.selection.createRange(),r=document.selection.createRange().text.length;t.moveStart("character",-i.value.length),e=t.text.length-r}return e},setCaretPosition:function(i,e){if(i.setSelectionRange)i.focus(),i.setSelectionRange(e,e);else if(i.createTextRange){var t=i.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}},indexMove:function(i,e,t){switch(!0){case e.length<i.length:return t+1;case e.length>i.length:return t-1;default:return t}},addPropertyMask:function(i,e){var t=this;i.maskArgs={};var r=function(s){Object.defineProperty(i.maskArgs,s,{get:function(){return e.args[s]},set:function(C){e.args[s]=C,t.refreshMask(i)}})};for(var n in e.args)r(n)},addMask:function(i,e){var t=this;i.addEventListener("input",function(r){var n=i.value;e.args.beforeFormat(n);var o=e.mask(n),s=t.getCaretPosition(i),f=t.indexMove(o,n,s);i.maskArgs.cursor==="start"?f=0:i.maskArgs.cursor==="end"&&(f=o.length),i.value=o,i._value=o,t.setCaretPosition(i,f),e.args.afterFormat(o),!(r instanceof Event)&&t.refreshMask(i)})},refreshMask:function(i){i.dispatchEvent(new Event("input"))}},h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=function(){function a(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&a(i.prototype,e),t&&a(i,t),i}}();function w(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var u=new d,N=function(){function a(){w(this,a)}return k(a,null,[{key:"formatToCurrency",value:function(e,t){var r=new c(typeof t<"u"&&(typeof t>"u"?"undefined":h(t))==="object"?t:u);r.args.beforeFormat(e);var n=r.args.allowNegative&&e.indexOf("-")!==-1,o=r.numberToText(r.textToNumber(e)),s=(!r.args.negativeSignAfter&&n?"-":"")+o+(r.args.negativeSignAfter&&n?"-":"");return r.args.afterFormat(s),s}},{key:"formatToMask",value:function(e,t){var r=new c(typeof t<"u"&&(typeof t>"u"?"undefined":h(t))==="object"?t:u),n=e.toString();r.args.beforeFormat(n);var o=r.mask(n);return r.args.afterFormat(o),o}},{key:"formatToNumber",value:function(e,t){var r=new c(typeof t<"u"&&(typeof t>"u"?"undefined":h(t))==="object"?t:u),n=e.toString();r.args.beforeFormat(n);var o="0",s=r.args.allowNegative&&n.indexOf("-")!==-1;return s&&(n=n.replace("-","")),n=r.textToNumber(n),this.args.fixed||(n=n.replace(new RegExp("_","g"),"")),isNaN(n)||(o=parseFloat(s?n*-1:n)),r.args.afterFormat(o),o}},{key:"setMask",value:function(e,t){if(typeof document>"u")throw"This function only works on client side";var r=typeof e=="string"?document.querySelector(e):e,n=new c(typeof t<"u"&&(typeof t>"u"?"undefined":h(t))==="object"?t:u);return m.addPropertyMask(r,n),m.addMask(r,n),m.refreshMask(r),r.formatToNumber=function(){return a.formatToNumber(r.value,r.maskArgs)},r}},{key:"args",get:function(){return u},set:function(e){u=new d(e)}}]),a}();return N})})(p);const M=p.exports,l={};l.cartProducts=[];l.cartCount=0;l.currency="$ ";l.perPage=8;l.finalProducts=[];export{M as S,l as c};
